"use strict";angular.module("primeiraApp",["ui.router","ngAnimate","toastr","720kb.datepicker","AngularPrint","ngCsv"]);
"use strict";!function(){function a(a,e,t){a.carregando=!1,a.reset=function(){a.truck=angular.copy({})},a.save=function(){a.carregando=!0;var e=a.truck;e.data=window.moment().format("LLL"),e.timestamp=window.moment().toDate().getTime(),firebase.database().ref("caminhao").push(e).then(function(a){var e=moment().format("D"),o=moment().format("M"),n=moment().format("YYYY");firebase.database().ref("data/"+n+"/"+o+"/"+e+"/").push(a.key).then(function(e){t.go("addTruckDone",{key:a.key})},function(a){sweetAlert("Oops...",a,"error")})},function(a){sweetAlert("Oops...",a,"error")})}}function e(a,e,t,o){a.idade=21,a.visible=!1,a.caminhoes=[],o.info("Fazendo download da lista...","Toda a lista está sendo carregada!"),window.firebase.database().ref("caminhao").orderByChild("timestamp").on("child_added",function(e){var t={};t=e.val(),t.key=e.key,a.caminhoes.push(t),a.$apply()}.bind(this)),a.gotoDetails=function(a){t.go("infoTruck",{key:a})},a.gotoPrint=function(a){t.go("addTruckDone",{key:a})}}function t(a,e,t,o,n){a.carregando=!0,window.firebase.database().ref("caminhao/"+o.key).on("value",function(e){a.info_detailed=e.val(),a.carregando=!1,a.$apply()})}function o(a,e,t,o,n){a.caminhoes=[],a.arquivo="Relatorio-",a.terminacao=".csv",a.xls=function(){$(".table").table2excel({name:"Excel Document Name",filename:a.arquivo+a.date+a.terminacao,fileext:".xls",exclude_img:!0,exclude_links:!0,exclude_inputs:!0})},a.filter=function(e){if(a.caminhoes=[],"undefined"==typeof e)sweetAlert("Oops...","Selecione uma data!","error");else{var t=e.split("-");window.firebase.database().ref("data/"+t[2]+"/"+t[1]+"/"+t[0]).on("child_added",function(e){a.carregando=!0,a.$apply(),window.firebase.database().ref("caminhao/"+e.val()).on("value",function(e){var t=e.val();t.dataformatada=window.moment(e.val().timestamp).format("D/MM/Y H:m"),a.caminhoes.push(t),a.carregando=!1,a.$apply()})})}}}function n(a,e,t,o,n){a.carregando=!0,a.timeline=[],window.firebase.database().ref("caminhos/"+o.key).on("value",function(e){var t=e.val();for(var o in t)a.timeline.push(t[o]);a.carregando=!1,a.$apply()})}angular.module("primeiraApp").controller("addTruckController",["$scope","$http","$state",a]).controller("listTruck",["$scope","$http","$state","toastr",e]).controller("infolist",["$scope","$http","$state","$stateParams","toastr",t]).controller("infotime",["$scope","$http","$state","$stateParams","toastr",n]).controller("specificListTruck",["$scope","$http","$state","$stateParams","toastr",o])}();
"use strict";!function(){function o(o,r,a){o.carregando=!0,o.apontadores=[],window.firebase.database().ref("users").on("child_added",function(r){var a={};a=r.val(),a.key=r.key,o.apontadores.push(a),o.carregando=!1,o.$apply()}.bind(this))}function r(o,r,a){o.carregando=!1,o.limpar=function(){o.user=angular.copy({})},o.save=function(){swal({title:"Deseja criar um novo usuário?",text:"O usuário será criado com esses dados informados",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim",closeOnConfirm:!0},function(){o.carregando=!0,o.$apply(),window.firebase.auth().createUserWithEmailAndPassword(o.user.login,o.user.password).then(function(r){window.firebase.database().ref("users/"+r.uid).set({name:o.user.name,contact:o.user.contact,email:o.user.login}).then(function(r){console.log(r),swal("Criado!","Novo usuário foi criado","success"),o.carregando=!1,o.limpar(),o.$apply()})["catch"](function(r){sweetAlert("Oops...",error,"error"),o.carregando=!1,o.$apply()})})["catch"](function(r){sweetAlert("Oops...",r,"error"),o.carregando=!1,o.$apply()})})}}angular.module("primeiraApp").controller("cadastroCtrl",["$scope","$http",r]).controller("listApontador",["$scope","$http",o])}();
"use strict";function BillingCycleController(l,e,i,c,t,n){l.getBillingCycles=function(){var c=parseInt(i.search().page)||1,a=n.apiUrl+"/billingCycles?skip="+10*(c-1)+"&limit=10";e.get(a).then(function(l){return l.json()}).then(function(i){l.billingCycles=i,l.billingCycle={},s(),e.get(n.apiUrl+"/billingCycles/count").then(function(e){l.pages=Math.ceil(e.value/10),t.show(l,{tabList:!0,tabCreate:!0})})})},l.createBillingCycle=function(){var i=n.apiUrl+"/billingCycles";e.post(i,l.billingCycle).success(function(e){l.billingCycle={},s(),l.getBillingCycles(),c.addSuccess("Operação realizada com sucesso!!")}).error(function(l){c.addError(l.errors)})},l.showTabUpdate=function(e){l.billingCycle=e,s(),t.show(l,{tabUpdate:!0})},l.updateBillingCycle=function(){var i=n.apiUrl+"/billingCycles/"+l.billingCycle._id;e.put(i,l.billingCycle).success(function(e){l.billingCycle={},s(),l.getBillingCycles(),t.show(l,{tabList:!0,tabCreate:!0}),c.addSuccess("Operação realizada com sucesso!")}).error(function(l){c.addError(l.errors)})},l.showTabDelete=function(e){l.billingCycle=e,s(),t.show(l,{tabDelete:!0})},l.deleteBillingCycle=function(){var i=n.apiUrl+"/billingCycles/"+l.billingCycle._id;e["delete"](i,l.billingCycle).success(function(e){l.billingCycle={},s(),l.getBillingCycles(),t.show(l,{tabList:!0,tabCreate:!0}),c.addSuccess("Operação realizada com sucesso!")}).error(function(l){c.addError(l)})},l.addDebt=function(e){l.billingCycle.debts.splice(e+1,0,{})},l.cloneDebt=function(e,i){var c=i.name,t=i.value,n=i.status;l.billingCycle.debts.splice(e+1,0,{name:c,value:t,status:n}),s()},l.deleteDebt=function(e){l.billingCycle.debts.splice(e,1),s()},l.addCredit=function(e){l.billingCycle.credits.splice(e+1,0,{})},l.cloneCredit=function(e,i){var c=i.name,t=i.value;l.billingCycle.credits.splice(e+1,0,{name:c,value:t}),s()},l.deleteCredit=function(e){l.billingCycle.credits.splice(e,1),s()},l.cancel=function(){t.show(l,{tabList:!0,tabCreate:!0}),l.billingCycle={},s()},l.calculateValues=function(){l.credit=0,l.debt=0,l.billingCycle&&(l.billingCycle.credits.forEach(function(e){var i=e.value;l.credit+=!i||isNaN(i)?0:parseFloat(i)}),l.billingCycle.debts.forEach(function(e){var i=e.value;l.debt+=!i||isNaN(i)?0:parseFloat(i)})),l.total=l.credit-l.debt};var s=function(){l.billingCycle.debts&&l.billingCycle.debts.length||(l.billingCycle.debts=[],l.billingCycle.debts.push({})),l.billingCycle.credits&&l.billingCycle.credits.length||(l.billingCycle.credits=[],l.billingCycle.credits.push({})),l.calculateValues()};l.getBillingCycles()}angular.module("primeiraApp").controller("BillingCycleCtrl",["$scope","$http","$location","msgs","tabs","consts",BillingCycleController]);
"use strict";angular.module("primeiraApp").constant("consts",{appName:"Sistema de Transporte",version:"1.0",owner:"Tezna",year:"2017",site:"http://cod3r.com.br",apiUrl:"http://localhost:4004/api"}).run(["$rootScope","consts",function(t,o){t.consts=o}]);
"use strict";angular.module("primeiraApp").config(["$stateProvider","$urlRouterProvider",function(t,r){t.state("addTruck",{url:"/adicionarCaminhao",templateUrl:"add-truck/add-truck.html"}).state("listTruck",{url:"/listTruck/:key",templateUrl:"truck-list/truck-list.html"}).state("listSTruck",{url:"/listSTruck",templateUrl:"truck-list/truck-date-list.html"}).state("addUser",{url:"/adicionarUsuario",templateUrl:"apontador/apontador.html"}).state("listUser",{url:"/listarUser",templateUrl:"apontador/lista_apontador.html"}).state("addTruckDone",{url:"/addTruckDone/:key",templateUrl:"key-display/key-display.html"}).state("infoTruck",{url:"/infoTruck/:key",templateUrl:"info-truck/info-truck.html"}),r.otherwise("/adicionarCaminhao")}]);
"use strict";function DashboardController(t,r,o){t.getSummary=function(){var n=o.apiUrl+"/billingSummary";r.get(n).then(function(t){return t.json()}).then(function(r){var o=r.credit,n=void 0===o?0:o,e=r.debt,a=void 0===e?0:e;t.credit=n,t.debt=a,t.total=n-a})},t.getSummary()}angular.module("primeiraApp").controller("DashboardCtrl",["$scope","$http","consts",DashboardController]);
"use strict";!function(){function e(e,a,n){e.carregando=!0,e.key=n.key,window.firebase.database().ref("caminhao/"+n.key).on("value",function(a){e.info_detailed=a.val(),e.carregando=!1,e.$apply()}),new QRCode(document.getElementById("qrcode"),n.key)}angular.module("primeiraApp").controller("displayTruckCreated",["$scope","$http","$stateParams",e])}();
"use strict";
"use strict";angular.module("primeiraApp").component("contentHeader",{bindings:{name:"@",small:"@"},template:'\n      <section class="content-header">\n        <h1>{{ $ctrl.name }} <small>{{ $ctrl.small }}</small></h1>\n      </section>\n   '});
"use strict";angular.module("primeiraApp").component("field",{bindings:{id:"@",label:"@",type:"@",grid:"@",model:"=",placeholder:"@",readonly:"<"},controller:["gridSystem",function(l){this.gridClasses=l.toCssClasses(this.grid)}],template:'\n   <div class="{{ $ctrl.gridClasses }}">\n     <div class="form-group">\n       <label for="{{ $ctrl.id }}">{{ $ctrl.label }}</label>\n       <input ng-model="$ctrl.model" id="{{ $ctrl.id }}" class="form-control"\n          type="{{ $ctrl.type }}" placeholder="{{ $ctrl.placeholder }}"\n          ng-readonly="$ctrl.readonly" />\n     </div>\n   </div>\n  '});
"use strict";angular.module("primeiraApp").component("paginator",{bindings:{url:"@",pages:"@"},controller:["$location",function(n){this.$onInit=function(){var n=parseInt(this.pages)||1;this.pagesArray=Array(n).fill(0).map(function(n,r){return r+1})},this.current=parseInt(n.search().page)||1,this.needPagination=this.pages>1,this.hasPrev=this.current>1,this.hasNext=this.current<this.pages,this.isCurrent=function(n){return this.current==n}}],template:'\n      <ul ng-if="$ctrl.needPagination"\n        class="pagination pagination-sm no-margin pull-right">\n        <li ng-if="$ctrl.hasPrev">\n          <a href="{{ $ctrl.url }}?page={{ $ctrl.current - 1}}">«</a>\n        </li>\n        <li ng-class="{active: $ctrl.isCurrent(i)}"\n          ng-repeat="i in $ctrl.pagesArray">\n          <a href="{{ $ctrl.url }}?page={{i}}">{{i}}</a>\n        </li>\n        <li ng-if="$ctrl.hasNext">\n          <a href="{{ $ctrl.url }}?page={{ $ctrl.current + 1}}">»</a>\n        </li>\n      </ul>\n   '});
"use strict";angular.module("primeiraApp").component("valueBox",{bindings:{grid:"@",colorClass:"@",value:"@",text:"@",iconClass:"@"},controller:["gridSystem",function(s){var n=this;this.$onInit=function(){return n.gridClasses=s.toCssClasses(n.grid)}}],template:'\n  <div class="{{ $ctrl.gridClasses }}">\n    <div class="small-box {{ $ctrl.colorClass }}">\n      <div class="inner">\n        <h3>{{ $ctrl.value }}</h3>\n        <p>{{ $ctrl.text }}</p>\n      </div>\n      <div class="icon">\n        <i class="{{ $ctrl.iconClass }}"></i>\n      </div>\n    </div>\n  </div>\n  '});
"use strict";angular.module("primeiraApp").factory("gridSystem",[function(){function r(r){var s=r?r.split(" "):[],t="";return s[0]&&(t+="col-xs-"+s[0]),s[1]&&(t+=" col-sm-"+s[1]),s[2]&&(t+=" col-md-"+s[2]),s[3]&&(t+=" col-lg-"+s[3]),t}return{toCssClasses:r}}]);
"use strict";function MsgsFactory(r){function s(r){o(r,"Sucesso","success")}function c(r){o(r,"Erro","error")}function o(s,c,o){s instanceof Array?s.forEach(function(s){return r[o](s,c)}):r[o](s,c)}return{addSuccess:s,addError:c}}angular.module("primeiraApp").factory("msgs",["toastr",MsgsFactory]);
"use strict";angular.module("primeiraApp").factory("tabs",[function(){function t(t,a){var e=a.tabList,i=void 0!==e&&e,r=a.tabCreate,b=void 0!==r&&r,o=a.tabUpdate,d=void 0!==o&&o,n=a.tabDelete,s=void 0!==n&&n;t.tabList=i,t.tabCreate=b,t.tabUpdate=d,t.tabDelete=s}return{show:t}}]);